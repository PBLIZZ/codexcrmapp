{
  "extends": "../../tsconfig.base.json",
  "compilerOptions": {
    // Build output configuration
    "outDir": "./dist",
    "rootDir": "./src",
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true,
    "composite": true,

    // Database/Node.js specific configuration
    "module": "commonjs",
    "target": "es2022",
    "moduleResolution": "node",
    "tsBuildInfoFile": "../../.tsbuildinfo-db",

    // Monorepo and database library paths - using root-relative paths
    "baseUrl": "../..",
    "paths": {
      // Monorepo packages using aliases from root
      "@codexcrm/api/*": ["packages/api/src/*"],
      "@codexcrm/auth/*": ["packages/auth/src/*"],
      "@codexcrm/config/*": ["packages/config/src/*"],
      "@codexcrm/database/*": ["packages/database/src/*"],
      "@codexcrm/background-jobs/*": ["packages/background-jobs/src/*"],
      "@codexcrm/ui/*": ["packages/ui/src/*"],
      "@/*": ["apps/web/*"],
      // Local paths
      "@/db/*": ["packages/database/src/*"],
      "@/models/*": ["packages/database/src/models/*"],
      "@/repositories/*": ["packages/database/src/repositories/*"],
      "@/utils/*": ["packages/database/src/utils/*"]
    }
  },

  "include": ["src/**/*"],

  "exclude": ["node_modules", "dist", "**/*.test.{ts,tsx}", "**/*.spec.{ts,tsx}"]
}
